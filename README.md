## Описание
Тестовый сервис мониторинга за ценами на криптовалюты.
Ядро сервиса должно периодически выполнять запросы к внешнему API и обновлять информацию о добавленных в мониторинг криптовалютах.
API: https://docs.coincap.io/#0a8102a5-c338-4661-aa99-f1c57661b5b1


## Стек
* Go 1.16+
* fasthttp + fasthttprouter
* MongoDB
* Docker (docker-compose)

## Постановка задачи
Все методы защищены авторизацией по JWT-токену и покрыты тестами. API задокументировано в формате OpenAPI.

Список планируемых методов:
* Получение JWT-токена (логин и пароль задаются через окружение);
* Добавить валюту в мониторинг (на входе ID и интервал между проверками);
* Убрать валюту из мониторинга (последние данные должны быть доступны);
* Показать список валют в мониторинге и их данные (нужна пагинация);
* Показать данные валюты по ID;


## Реализовано

* Конфигурационный [файл toml](/configs/coinmonserver.toml).
* Создание и проверка JWT-токена.
* Отправка ответов через json.
* API на valyala/fasthttp + fasthttp/router":
    * GET /hello - Тестовый сервис.
	* POS /signin - Получение токена по имени и паролю (параметры **username** и **password**).
	* POST /addcoin - Добавление и обновление интервалов обновления информации по криптовалютам (в хедере **authorization** токен [RFC6750](https://datatracker.ietf.org/doc/html/rfc6750) и параметры **coin_id** и **interval**).
* Чтение переменных окуржения **COIN_SERVER_USER_NAME=XXX** и **COIN_SERVER_PASSWORD=YYY**.
* Взаимодействие с MonogDB (для удобства можно использовать docker, см. [подсказку](mongo.md)).
* Сборка через Makefile.

## Запуск

1. Установить монго, можно использовать [подсказку](mongo.md).

2. Собрать приложение.

```
make
```

3. Проверить и при необходимости внести правки в [конфигурационный файл](/configs/coinmonserver.toml).

4. Определить переменные среды **COIN_SERVER_USER_NAME=XXX** и **COIN_SERVER_PASSWORD=YYY**. Можно их определить в файле ```.env``` в корне проекта.

5. Запустить ```.\coinmonserver```.

6. Проверить методы.
